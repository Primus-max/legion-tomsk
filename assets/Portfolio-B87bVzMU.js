import{_ as z,f as d,g as X,u as L,c as $,p as j,d as s,o as l,b as a,e as g,a as M,i as y,F as k,l as b,v as q,x as A,n as G,j as V,q as T,t as x}from"./index-DIB2gqT-.js";import{I as H}from"./ImageModalSlider-C33s6l8l.js";import{O as U}from"./OrderModal-B3yCS4Cb.js";import{F as J}from"./FooterSection-D_dmaX5-.js";const K={class:"portfolio-gallery-block"},Q={class:"carousel-row"},R=["onClick","aria-label"],Y={class:"portfolio-gallery__img-wrap"},Z=["src","alt"],ee={key:0,class:"carousel-dots"},te=5,oe={__name:"PortfolioGallery",props:{works:{type:Array,required:!0},cardHeight:{type:Number,default:320}},setup(u){const r=u,c=d(3),o=d(0),p=d(!1),v=d(0),n=d(!1);function t(){window.innerWidth<700?c.value=1:window.innerWidth<1100?c.value=2:c.value=3}X(()=>{t(),window.addEventListener("resize",t)}),L(()=>{window.removeEventListener("resize",t)});function C(e){return e>=o.value&&e<o.value+c.value}function I(){o.value>0&&o.value--}function S(){o.value<r.works.length-c.value&&o.value++}function B(e){window.innerWidth<700||(v.value=e,p.value=!0)}const E=$(()=>r.works.map((e,i)=>({src:e.image,alt:`Фото ${i+1}`})));j(()=>r.works,()=>{o.value=0});const N=()=>{n.value=!0},O=()=>{n.value=!1},w=()=>window.innerWidth<700,f=d(null),_=d(null);function D(e){w()&&(f.value=e.touches[0].clientX)}function F(e){w()&&(_.value=e.touches[0].clientX)}function P(){if(!w()||f.value===null||_.value===null)return;const e=_.value-f.value;Math.abs(e)>40&&(e<0?S():I()),f.value=null,_.value=null}const W=$(()=>{const e=r.works.length,i=o.value;return e<=te?Array.from({length:e},(h,m)=>m):i<=2?[0,1,2,3,4]:i>=e-3?[e-5,e-4,e-3,e-2,e-1]:[i-2,i-1,i,i+1,i+2]});return(e,i)=>(l(),s("div",K,[a("div",Q,[c.value>1?(l(),s("button",{key:0,class:y(["carousel-arrow left",{disabled:o.value===0}]),onClick:I,"aria-label":"Назад"}," ‹ ",2)):g("",!0),a("div",{class:"portfolio-carousel",onTouchstart:D,onTouchmove:F,onTouchend:P},[(l(!0),s(k,null,b(u.works,(h,m)=>q((l(),s("div",{key:h.id,class:"portfolio-gallery__item",style:G({height:u.cardHeight+"px"}),onClick:me=>B(m),tabindex:"0",role:"button","aria-label":"Открыть фото "+(m+1)},[a("div",Y,[a("img",{src:h.image,alt:"Фото "+(m+1),class:"portfolio-gallery__img",loading:"lazy"},null,8,Z)])],12,R)),[[A,C(m)]])),128))],32),c.value>1?(l(),s("button",{key:1,class:y(["carousel-arrow right",{disabled:o.value>=u.works.length-c.value}]),onClick:S,"aria-label":"Вперёд"}," › ",2)):g("",!0)]),c.value===1&&u.works.length>1?(l(),s("div",ee,[(l(!0),s(k,null,b(W.value,h=>(l(),s("span",{key:"dot-"+h,class:y(["carousel-dot",{active:h===o.value}])},null,2))),128))])):g("",!0),u.works.length?(l(),s("button",{key:1,class:"portfolio-gallery__cta-main",onClick:N},"Заказать")):g("",!0),p.value?(l(),M(H,{key:2,images:E.value,startIndex:v.value,visible:p.value,onClose:i[0]||(i[0]=h=>p.value=!1)},null,8,["images","startIndex","visible"])):g("",!0),n.value?(l(),M(U,{key:3,onClose:O})):g("",!0)]))}},le=z(oe,[["__scopeId","data-v-d2bb0810"]]),ae={class:"portfolio-page"},ie={class:"portfolio-tabs","aria-label":"Рубрики портфолио"},se=["onClick","aria-label"],ce={class:"portfolio-tab__icon"},ne={class:"portfolio-categories"},re=["id","aria-labelledby"],de=["id"],ue={class:"portfolio-category__icon"},he={class:"portfolio-category__desc"},pe={name:"Portfolio"},ve=Object.assign(pe,{setup(u){const r=[{id:"peretyazhka",title:"Перетяжка",icon:"🪡",desc:"Премиальная перетяжка салона и отдельных элементов."},{id:"tyuning",title:"Тюнинг",icon:"⚡",desc:"Уникальный тюнинг салона и интерьера."},{id:"restavraciya",title:"Реставрация",icon:"🛠️",desc:"Восстановление и реставрация салона."},{id:"poshiv",title:"Пошив",icon:"🧵",desc:"Индивидуальный пошив элементов интерьера."},{id:"vyshivka",title:"Вышивка",icon:"✒️",desc:"Вышивка логотипов, надписей и узоров."},{id:"elektro",title:"Автоэлектрика",icon:"💡",desc:"Установка и настройка электрооборудования."},{id:"kovry",title:"Ковры/органайзеры",icon:"🧩",desc:"Изготовление ковров и органайзеров."}],c={peretyazhka:[{id:1,image:"https://placehold.co/400x300?text=Перетяжка+1"},{id:2,image:"https://placehold.co/400x300?text=Перетяжка+2"},{id:3,image:"https://placehold.co/400x300?text=Перетяжка+3"},{id:4,image:"https://placehold.co/400x300?text=Перетяжка+4"},{id:5,image:"https://placehold.co/400x300?text=Перетяжка+5"},{id:6,image:"https://placehold.co/400x300?text=Перетяжка+6"},{id:7,image:"https://placehold.co/400x300?text=Перетяжка+7"},{id:8,image:"https://placehold.co/400x300?text=Перетяжка+8"},{id:9,image:"https://placehold.co/400x300?text=Перетяжка+9"},{id:10,image:"https://placehold.co/400x300?text=Перетяжка+10"}],tyuning:[{id:1,image:"https://placehold.co/400x300?text=Тюнинг+1"},{id:2,image:"https://placehold.co/400x300?text=Тюнинг+2"},{id:3,image:"https://placehold.co/400x300?text=Тюнинг+3"},{id:4,image:"https://placehold.co/400x300?text=Тюнинг+4"}],restavraciya:[{id:1,image:"https://placehold.co/400x300?text=Реставрация+1"},{id:2,image:"https://placehold.co/400x300?text=Реставрация+2"}],poshiv:[{id:1,image:"https://placehold.co/400x300?text=Пошив+1"},{id:2,image:"https://placehold.co/400x300?text=Пошив+2"},{id:3,image:"https://placehold.co/400x300?text=Пошив+3"}],vyshivka:[{id:1,image:"https://placehold.co/400x300?text=Вышивка+1"},{id:2,image:"https://placehold.co/400x300?text=Вышивка+2"}],elektro:[{id:1,image:"https://placehold.co/400x300?text=Электро+1"},{id:2,image:"https://placehold.co/400x300?text=Электро+2"},{id:3,image:"https://placehold.co/400x300?text=Электро+3"}],kovry:[{id:1,image:"https://placehold.co/400x300?text=Ковры+1"},{id:2,image:"https://placehold.co/400x300?text=Ковры+2"},{id:3,image:"https://placehold.co/400x300?text=Ковры+3"},{id:4,image:"https://placehold.co/400x300?text=Ковры+4"}]},o=d(r[0].id);function p(v){o.value=v;const n=document.getElementById(v);n&&n.scrollIntoView({behavior:"smooth",block:"start"})}return(v,n)=>(l(),s("main",ae,[n[0]||(n[0]=a("h1",{class:"portfolio-title"},"Портфолио",-1)),n[1]||(n[1]=a("p",{class:"portfolio-desc"},"Здесь собраны лучшие работы по категориям. Выберите интересующую рубрику и вдохновляйтесь!",-1)),a("nav",ie,[(l(),s(k,null,b(r,t=>a("button",{key:t.id,class:y(["portfolio-tab",{active:o.value===t.id}]),onClick:C=>p(t.id),"aria-label":t.title},[a("span",ce,x(t.icon),1),T(" "+x(t.title),1)],10,se)),64))]),a("div",ne,[(l(),s(k,null,b(r,t=>a("section",{key:t.id,id:t.id,class:"portfolio-category","aria-labelledby":"cat-title-"+t.id},[a("h2",{class:"portfolio-category__title",id:"cat-title-"+t.id},[a("span",ue,x(t.icon),1),T(" "+x(t.title),1)],8,de),a("p",he,x(t.desc),1),V(le,{works:c[t.id]},null,8,["works"])],8,re)),64))]),V(J)]))}}),ye=z(ve,[["__scopeId","data-v-48a3c408"]]);export{ye as default};
